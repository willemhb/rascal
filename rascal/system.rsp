;;; begin system.rsp
;;; rascal builtins for os interaction.

(mac try
  (action captures . handlers)
  `(with ~captures
  	 ~(map #(xaar %1 'catch) handlers)
  	 ~action))

(mac let
  (formals body)
  `((fun ~(slice formals 0 -1 2)
  	 ~body) ~@(slice formals 1 -1 2)))

(try ()
  (do (val x 1)
      (val y 2)
      (val z 0)
      (/ x y z))
  ((catch :zero-div) ...)
  ((catch :not-found) ...)
  ((catch . _) ))



;;; end system.rsp