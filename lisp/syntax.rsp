;;; begin syntax.rsp

@name syntax
@doc  "Examples of desired macro syntax/usage."

(mac let? [&& form]
  (syntax form
    (let? var test then)
      (let [var test]
	   (if var then))
    (let? var test then else)
      (let [var test]
      	   (if var then else))))

(mac for [&& form]
  (syntax form [in]
    (for n in coll ...)
    (labl
      (loop [n coll acc]
        (if (empty? coll)
	    acc
	    (let [acc (do ...)]
	      (loop (hd coll)
		    (tl coll)
		    acc))))
      (loop (hd coll)
      	    (tl coll)
	    ()'))))

;;; end syntax.rsp